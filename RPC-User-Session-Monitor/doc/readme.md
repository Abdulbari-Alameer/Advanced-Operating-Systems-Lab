
RPC WHO Program – Local and Remote User Information Service
This project implements two components:
1.	Local WHO program that replicates the functionality of Linux who / w commands.
2.	RPC-based WHO system where a client retrieves active login sessions from a remote server using ONC RPC.
The project demonstrates how to work with Linux user session databases, RPC interface definition, and distributed client–server communication.
Part A — Local WHO Implementation
File: src/local_who.c
This program reads system login records from:
/var/run/utmp
using the following system calls:
•	setutent()
•	getutent()
•	endutent()
It prints an output similar to the standard Linux who command by displaying active user login sessions.
Compile
gcc -Wall src/local_who.c -o local_who
Run
./local_who
________________________________________
 Part B RPC WHO Implementation
This part extends the WHO program to operate over a network.
A client sends a request to an RPC server, and the server returns currently logged-in user information.
Files Included
remote.x            # RPC interface definition (written manually)
remote_server.c     # RPC server implementation
remote_client.c     # RPC client implementation
remote.h            # Generated by rpcgen
remote_clnt.c       # Generated by rpcgen
remote_svc.c        # Generated by rpcgen
remote_xdr.c        # Generated by rpcgen
________________________________________
Step 1 — Install Required Packages (Ubuntu 22.04+)
Ubuntu 22.04 uses libtirpc instead of old SunRPC.
Install dependencies:
sudo apt-get update
sudo apt-get install -y build-essential libtirpc-dev rpcbind rpcsvc-proto
________________________________________
Step 2 — Generate RPC Stubs
Run:
rpcgen remote.x
Generated files:
•	remote.h
•	remote_svc.c
•	remote_clnt.c
•	remote_xdr.c
________________________________________
Step 3 — Compile RPC Server & Client
Because Ubuntu 22.04 uses libtirpc, add the correct include path:
Compile Server
gcc -Wall -I/usr/include/tirpc -o remote_server \
    remote_server.c remote_svc.c remote_xdr.c -ltirpc
Compile Client
gcc -Wall -I/usr/include/tirpc -o remote_client \
    remote_client.c remote_clnt.c remote_xdr.c -ltirpc
________________________________________
Step 4 — Start rpcbind Service
sudo systemctl start rpcbind
sudo systemctl enable rpcbind
Verify:
systemctl status rpcbind
________________________________________
Step 5 — Run the Programs
Terminal 1 — Start the RPC Server
./remote_server
Terminal 2 — Run the RPC Client
./remote_client localhost
________________________________________
Notes About WSL
Windows Subsystem for Linux usually shows zero logged-in users.
For realistic testing, use:
•	A real Ubuntu machine
•	A Virtual Machine (VirtualBox/VMware)
•	An SSH session

 Core Concepts Demonstrated
Topic	Description
UTMP	Reading user login sessions from /var/run/utmp
RPC	Remote client–server architecture
rpcgen	Automatic generation of RPC stubs
Distributed Systems	Remote procedure execution
C Programming	System-level coding and Linux APIs

 Additional Notes
•	Fully compatible with Ubuntu 22.04+ using libtirpc.
•	Tested on physical Linux machines and VMs.
•	Behavior on WSL may show limited or no user sessions (expected).


